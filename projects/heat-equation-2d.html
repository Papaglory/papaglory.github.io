<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZDVNVDZGNG"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-ZDVNVDZGNG');
    </script>
    <meta name="description" content="Explore the codebase of the project that simulates and visualizes the heat equation with two spatial variables."/>
    <meta name="keywords" content="Marius Naasen, differential equation, physics, visualization, simulation, Java"/>
    <meta name="author" content="Marius Naasen"/>
    <title>Heat Equation with Two Spatial Variables - Marius Naasen</title>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png">
    <link rel="manifest" href="/assets/favicons/site.webmanifest">
    <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js" data-cbid="aa7f56c4-9008-4fcd-80b2-f3b937120743" data-blockingmode="auto" type="text/javascript"></script>
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css"/>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css"/>
    <link href="../css/styles.css" rel="stylesheet"/>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism.min.css" rel="stylesheet"/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-java.min.js"></script>
    <meta property="og:title" content="Heat Equation with Two Spatial Variables - Marius Naasen">
    <meta property="og:description" content="Explore the codebase of the project that simulates and visualizes the heat equation with two spatial variables.">
    <meta property="og:image" content="https://mariusnaasen.com/assets/img/cards/lava_ai-card.webp">
    <meta property="og:url" content="https://mariusnaasen.com">
    <meta property="og:type" content="website">
    <meta name="twitter:title" content="Heat Equation with Two Spatial Variables - Marius Naasen">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="Explore the codebase of the project that simulates and visualizes the heat equation with two spatial variables.">
    <meta name="twitter:image" content="https://mariusnaasen.com/assets/img/cards/lava_ai-card.webp">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
        <div class="container px-4 px-lg-5">
            <a class="navbar-brand" href="../index.html">
            <img src="../assets/img/background/portrait.webp" alt="Profile picture of Marius Naasen">
            Marius Naasen
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                Menu
                <i class="fas fa-bars"></i>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto py-4 py-lg-0">
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="../index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="../projects.html">Projects</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="header-mystory-container" style="background-color: white;">
    <header class="masthead" style="background-image: url('../assets/img/projects/lava_ai.webp')">
        <div class="container position-relative px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
                    <div class="site-heading text-center">
                        <img src="../assets/img/background/portrait.webp" alt="Portrait of Marius Naasen" class="profile-photo mb-3 invisible-text">
                        <span class="subheading invisible-text">Hi, I am Marius</span>
                    </div>
                </div>
            </div>
        </div>
    </header>
        <main class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7 custom-text-width">
                        <h1>Heat Equation with Two Spatial Variables</h1>
                        <p>After completing my project called <a target="_blank" rel="noopener" href="https://mariusnaasen.com/projects/heat-wave-equation-simulator">heat-wave-equation-simulator</a>, which is a simulator for one spatial variable, I was inspired to extend the concept to two spatial variables, leading to the development of this heat simulation project. This project explores numerical methods and visualization techniques to model heat distribution dynamically across a given area.</p>
                        <h2>Project Overview</h2>
                        <p>The heat simulation project is designed to model the distribution of heat across a square domain over time, using the finite difference method to solve the 2D heat equation numerically. The boundary conditions are set to zero, and the initial heat distribution is represented by a polynomial spline surface constructed by utilizing Hermite spline interpolation. The points used to construct the polynomial spline are from user-defined input points in 3D space.</p>
                        <h2>Key Components</h2>
                        <p>The project is structured around several core components.</p>
                        <ul>
                            <li><strong>Numerical Solution Logic (<code>NumericalSolution.java</code>):</strong> This part of the project contains the algorithms and methods used to compute the heat distribution. It involves complex mathematical computations and iterative processes to simulate heat flow accurately. The finite difference method is implemented to approximate the heat equation, while Hermite spline interpolation constructs the initial heat distribution.</li>
                            <li><strong>Main Control Program (<code>MainHeat.java</code>):</strong> This is the central part of the project, responsible for setting up the simulation environment, initializing variables, and handling user inputs. It acts as the coordinator, ensuring that all components work together. Users can adjust settings such as the thermal diffusion constant, time step, and mesh size for the square grid in <code>MainHeat.java</code>.</li>
                            <li><strong>Simulation Execution (<code>HeatSimulation.java</code>):</strong> This component runs the actual simulation, updating the heat distribution over time and displaying the results. It handles the graphical representation and allows for visualization of the simulation progress.</li>
                        </ul>
                        <h2>Code Overview</h2>
                        <p>In this section we will highlight the essential parts of the code to the previously mentioned scripts.</p>
                        <h3><code>NumericalSolution.java</code> Script</h3>
                        <p>The method called <code class="language-java">updateVelocity()</code> updates the temperature change (velocity) using the finite difference method. It sets up a linear system to calculate temperature changes and updates the <code class="language-java">dataMatrix</code> to simulate heat distribution over time.</p>
                        <pre><code class="language-java">
public void updateVelocity(double deltaTime) {
// Setup matrix sizes
int rowSize = dataMatrix.getNumRows();
int colSize = dataMatrix.getNumCols();

// Create linear system Ax = b
double[][] linSys = new double[size][size];
double[][] vectorData = new double[size][1];

// Finite difference calculations (pseudocode)
for each interior point (i, j) {
    calculate change in temperature using neighbors;
}

// Update temperatures
for each interior point (i, j) {
    dataMatrix[i][j] += velocityMatrix[i][j] * deltaTime;
}
}
                        </code></pre>
                        <h3><code>MainHeat.java</code> Script</h3>
                        <p>This code snippet sets up the simulation environment with user-defined points, thermal diffusion constant called 'alpha', and mesh size. It creates a HeatSimulation object and runs the simulation, continuously updating the heat distribution.</p>
                        <pre><code class="language-java">
public class MainHeat {
public static void main(String[] args) {
    // Initialize user-defined points
    List<Vertex> points = new ArrayList<>();
    points.add(new Vertex(1, 2, 3));
    points.add(new Vertex(4, 5, 6));

    // Set simulation parameters
    double alpha = 0.01;
    int meshX = 50;
    int meshY = 50;

    // Setup simulation
    HeatSimulation simulation = new HeatSimulation();
    NumericalSolution solution = simulation.setupSimulation(points, alpha, meshX, meshY);
    
    // Simulation loop
    while (true) {
        solution.updateVelocity(0.1);
        // Visualize results
    }
}
}
                        </code></pre>
                        <h3><code>HeatSimulation.java</code> Script</h3>
                        <p>The following method called <code class="language-java">SetupSimulation()</code> sets up the simulation by creating a spline surface from user-defined points and projecting it onto a 2D mesh. The resulting <code class="language-java">dataMatrix</code> represents the initial heat distribution, which is used to create a NumericalSolution object for the simulation.</p>
                        <p>Furthermore, the method <code class="language-java">projectToMesh()</code> constructs a mesh grid using a <code class="language-java">SimpleMatrix</code> object. Each cell on the grid, consisting of an (\(x\), \(y\)) coordinate, is then evaluated using a <code class="language-java">Polynomial</code> object which represents the current heat wave solution to obtain the current function value (temperature value).</p>
                        <pre><code class="language-java">
public class HeatSimulation {
public NumericalSolution setupSimulation(List<Vertex> points, double alpha, int meshX, int meshY) {
    // Create spline surface from points
    Polynomial poly = CreateSplineSurface(points);

    // Project spline onto 2D mesh
    SimpleMatrix dataMatrix = projectToMesh(poly, meshX, meshY);
    
    // Return numerical solution
    return new NumericalSolution(dataMatrix, alpha);
}

private SimpleMatrix projectToMesh(Polynomial poly, int meshX, int meshY) {
    SimpleMatrix matrix = new SimpleMatrix(meshX, meshY);
    // Fill matrix with projected values (pseudocode)
    for each cell (x, y) in mesh {
        matrix[x][y] = poly.evaluate(x, y);
    }
    return matrix;
}
}
                        </code></pre>
                        <p></p>
                        <h2>Visual Demonstration</h2>
                        <img src="../assets/GIFs/heat-equation-2d/preview.gif" alt="A GIF showcasing the temperature diffusion" width="600" height="700" loading="lazy"/>
                        <p>Here, we can see the heat diffusing over time due to the lower temperature of the boundary, which is set to zero. The initial areas with a spike in temperature quickly diffuse.</p>
                        <h2>Conclusion</h2>
                        <p>This project bridges theoretical and practical aspects of differential equations, offering a way to visualize and understand heat distributions. By extending the heat-wave-equation-simulator to two spatial variables, it demonstrates the application of numerical methods in simulating differential equation over time. Future improvements could include optimizing calculations for better performance and exploring more complex boundary conditions.</p>
                        <p>For more information and to explore the codebase, please refer to the <a target="_blank" rel="noopener" href="https://github.com/Papaglory/Heat-Equation-2D">GitHub repository</a>.</p>
                    </div>
                </div>
            </div>
        </main>
    </div>
    <footer class="border-top">
        <div class="container px-4 px-lg-5">
            <div class="row gx-4 gx-lg-5 justify-content-center">
                <div class="col-md-10 col-lg-8 col-xl-7">
                    <ul class="list-inline text-center">
                        <li class="list-inline-item">
                            <a href="https://www.facebook.com/profile.php?id=100010585878716", alt="Visit my Facebook profile">
                                <span class="fa-stack fa-lg">
                                    <i class="fas fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-facebook-f fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                        <li class="list-inline-item">
                            <a href="https://github.com/Papaglory" alt="Visit my GitHub profile">
                                <span class="fa-stack fa-lg">
                                    <i class="fas fa-circle fa-stack-2x"></i>
                                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                                </span>
                            </a>
                        </li>
                    </ul>
                    <div class="small text-center text-muted fst-italic">&copy; Marius Naasen 2024. All rights reserved.<br>Built with <a target="_blank" href="https://startbootstrap.com" rel="noopener">Start Bootstrap.</a></div>
                </div>
            </div>
        </div>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../js/scripts.js"></script>
</body>
</html>